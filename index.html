<!DOCTYPE html>
<html>
<head>
	<title>
		Genshin Impact – Step Into a Vast Magical World of Adventure
	</title>
	<meta charset="utf-8">
	<meta name="author" content="Eqnoxx">
	<script src="js/jquery-1.11.1.min.js" type="text/javascript"></script>
	<link rel="stylesheet" type="text/css" href="css/index.css">
</head>
<body>
	<div id="loading"></div>
	<div id="fab">

		<!--header-->
		<header>

			<!--bars-->
			<a href="https://ys.mihoyo.com"><div class="logo"></div></a>
			<a href="official-site.html"><div class="bars bar1"></div></a>
			<a href="download.html"><div class="bars bar2"></div></a>
			<!--bars-->

			<!--elements-->
			<div class="video"></div>
			<div class="title"></div>
			<!--elements-->

		</header>
		<!--header-->

		<!--article-->
		<article>

			<!--c-i-->
			<div class="c-i">
				<div class="slide" style="left: 0px;">
					<!--venti-->
					<div class="roles" id="venti">
						<div class="desc-frame">
							<img src="element/main/c-i/venti-name.png" class="name">
							<div class="desc">
								One of the many bards of Mondstadt, who freely wanders the city's streets and alleys.
							</div>
							<img src="element/main/c-i/venti-video.png" class="video">
							<div class="view-more">View more &gt;</div>
						</div>
						<img src="element/main/c-i/venti-pic.png" class="pic">
					</div>
					<!--venti-->
					<!--rosaria-->
					<div class="roles" id="rosaria">
						<div class="desc-frame">
							<img src="element/main/c-i/rosaria-name.png" class="name">
							<div class="desc">
								A sister of the church, though you wouldn't know it if it weren't for her attire. Known for her sharp, cold words and manner, she often works alone.
							</div>
							<img src="element/main/c-i/rosaria-video.png" class="video">
							<div class="view-more">View more &gt;</div>
						</div>
						<img src="element/main/c-i/rosaria-pic.png" class="pic">
					</div>
					<!--rosaria-->
					<!--tartaglia-->
					<div class="roles" id="tartaglia">
						<div class="desc-frame">
							<img src="element/main/c-i/tartaglia-name.png" class="name">
							<div class="desc">
								No. 11 of The Harbingers, also known as "Childe." His name is highly feared on the battlefield.
							</div>
							
							<img src="element/main/c-i/tartaglia-video.png" class="video">
							<!--
							<div style="background-image: url(element/main/c-i/tartaglia-video.png)" class="video">
							-->
							<div class="view-more">View more &gt;</div>
						</div>
						<img src="element/main/c-i/tartaglia-pic.png" class="pic">
					</div>
					<!--tartaglia-->
				</div>
				<div class="slide-button slide-button-left"></div>
				<div class="slide-button slide-button-right"></div>
			</div>
			<!--c-i-->

			<!--v-i-->
			<div class="v-i">
				<div class="frame">
					<div class="visual">
						<div class="slide" style="left: 0px;">
							<img src="element/main/v-i/mas.png" class="pics">
							<img src="element/main/v-i/efpe.png" class="pics">
							<img src="element/main/v-i/wo.png" class="pics">
							<img src="element/main/v-i/OG.png" class="pics">
							<img src="element/main/v-i/TVSE.png" class="pics">
							<img src="element/main/v-i/BB.png" class="pics">
							<img src="element/main/v-i/BoB.png" class="pics">
							<img src="element/main/v-i/FF.png" class="pics">
							<img src="element/main/v-i/PW.png" class="pics">
							<img src="element/main/v-i/CT.png" class="pics">
							<img src="element/main/v-i/WD.png" class="pics">
							<img src="element/main/v-i/MM.png" class="pics">
						</div>
					</div>
					<div class="slide-button slide-button-left"></div>
					<div class="slide-button slide-button-right"></div>
				</div>
			</div>
			<!--v-i-->


			<div class="g-f">
				<div class="frame">

					<div class="pics pic-left" id="pic1"></div>
					<div class="pics pic-front" id="pic2"></div>
					<div class="pics pic-right" id="pic3"></div>
					<div class="pics pic-back" id="pic4"></div>
					<div class="pics pic-back" id="pic5"></div>

					<div class="slide-button slide-button-left"></div>
					<div class="point-frame">
						<div class="page-point" id="p1"></div>
						<div class="page-point" id="p2"></div>
						<div class="page-point" id="p3"></div>
						<div class="page-point" id="p4"></div>
						<div class="page-point" id="p5"></div>
					</div>
					<div class="slide-button slide-button-right"></div>
				</div>
			</div>

		</article>
		<!--article-->

		<!--footer-->
		<footer>
			<a href="vesion-1-2.html">
				<div class="pic"></div>
				<div class="desc">
						the Link to V1.2
				</div>
			</a>
		</footer>
		<!--footer-->
	</div>

	<div id="bottom">
		<div class="bottom-frame">
			<div class="logo-frame">
				<div class="mihoyo"></div>
				<div class="line"></div>
				<div class="genshin"></div>
			</div>
			<div class="author">
				<div class="nick-name-chn"></div>
				<div class="nick-name-eng"></div>
				<div class="line2"></div>
				<div class="real-name">计智20H1范若筠&nbsp;&nbsp;&nbsp;作品</div>
			</div>
		</div>
	</div>

	<!--videos-->
	<div class="video-back" style="display: none">
		<div class="video-frame">
			<button>关闭</button>

			<!--version-pv-->
			<iframe src="https://player.bilibili.com/player.html?aid=501949022&bvid=BV1kN41197kT&cid=306272844&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" id="video-1" style="display: none;"></iframe>
			<!--version-pv-->

			<!--venti-->
			<iframe src="https://player.bilibili.com/player.html?aid=627236039&bvid=BV1st4y1q7V4&cid=238833609&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" id="video-2" style="display: none;"></iframe>
			<!--venti-->

			<!--rosaria-->
			<iframe src="https://player.bilibili.com/player.html?aid=459828777&bvid=BV1a5411w7Yz&cid=316848436&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" id="video-3" style="display: none;"></iframe>
			<!--rosaria-->

			<!--tartaglia-->
			<iframe src="https://player.bilibili.com/player.html?aid=800223974&bvid=BV1wy4y1z7f3&cid=254153809&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" id="video-4" style="display: none;"></iframe>
			<!--tartaglia-->

		</div>
	</div>
	<!--videos-->

	<!--js-->
	<script type="text/javascript">
		function sleep(time){
 			return new Promise((resolve) => setTimeout(resolve, time));
		}

		//loading
		$("#loading").css("z-index", 0);
		$("#loading").css("opacity", 0);
		//loading

		//resize
		var pos_ci = 0, pos_vi = 0;
		$(window).resize(function() {
			var width = $("body").width();
			$(".roles").css("width", width);
			$(".slide").css("left", -pos_ci*width+"px");

		});
		$(".roles").css("width", $("body").width());
		//resize

		//c-i-slide
		$(".c-i .slide-button-left").click(function() {
			slide_ci(-1);
		});
		$(".c-i .slide-button-right").click(function() {
			slide_ci(+1);
		});
		var slide_ci = function(delta) {
			pos_ci += delta;
			var width = $("body").width();
			var count = $(".roles").length;
			if (pos_ci > count - 1) {
				pos_ci = 0;
			}
			if (pos_ci < 0) {
				pos_ci = count - 1;
			}
			$(".c-i .slide").css("left", -pos_ci*width + "px");
		};
		//c-i-slide

		//v-i-slide
		$(".v-i .slide-button-left").click(function() {
			slide_vi(-1);
		});
		$(".v-i .slide-button-right").click(function() {
			slide_vi(+1);
		});
		var slide_vi = function(delta) {
			pos_vi += delta;
			var old_width = parseInt($(".v-i .pics").css("width").slice(0, -2));
			var width = old_width + 16;
			var count = $(".v-i .pics").length;
			if (pos_vi > count - 3) {
				pos_vi = 0;
			}
			if (pos_vi < 0) {
				pos_vi = count - 3;
			}
			$(".v-i .slide").css("left", -pos_vi*width + "px");
		};
		//v-i-slide

		//change-point
		var index = 1;
		function change_point(cmd) {
			$(".page-point").filter(":eq("+index+")").css("background-image", "url(element/main/g-f/p"+cmd+".png)");
		}
		change_point(2);
		//change-point

		//point-hover
		$(".page-point").hover(function() {
			$(this).css("background-image", "url(element/main/g-f/p2.png)");
		}, function() {
			$(this).css("background-image", "url(element/main/g-f/p1.png)");
		});
		//point-hover

		//g-f-slide
		var all = $(".g-f .frame .pics");
		var len = all.length;
		function slide_move(target) {
			target = (target+len) % len;
			var right_index = (target + 1) % len;
			var left_index = (target-1+len) % len;
			var right = all.filter(":eq("+right_index+")");
			var front = all.filter(":eq("+target+")");
			var left = all.filter(":eq("+left_index+")");
			all.each(function() {
				var self = $(this);
				if (self.is(left)) {
					self.attr("class", "pics pic-left");
				}
				else if (self.is(front)) {
					self.attr("class", "pics pic-front");
				}
				else if (self.is(right)) {
					self.attr("class", "pics pic-right");
				}
				else {
					self.attr("class", "pics pic-back");
				}
			});
			change_point(1);
			index = target;
			change_point(2);
		}
		$(".g-f .slide-button-left").click(function() {
			slide_move(index-1);
		});
		$(".g-f .slide-button-right").click(function() {
			slide_move(index+1);
		});
		//g-f-slide

		//page-point
		$(".g-f .page-point").click(async function() {
			change_point(1);
			var delta = $(this).index() - index;
			if (Math.abs(delta) >= len/2) {
				delta = (delta>0?-1:1)*len + delta;
			}
			var step = Math.abs(delta)/delta;
			if (delta == 0) return;
			while (delta != 0) {
				slide_move(index + step);
				await sleep(300);
				delta -= step;
			}
			change_point(2);
		});
		//page-point

		//videos
		//video-1
		$("#fab header .video").click(function(){
			$(".video-back").show();
			$(".video-back #video-1").show();
			$("body").css("overflow", "hidden");
		});
		//video-2
		$("#fab article .c-i #venti .video").click(function(){
			$(".video-back").show();
			$(".video-back #video-2").show();
			$("body").css("overflow", "hidden");
		});
		//video-3
		$("#fab article .c-i #rosaria .video").click(function(){
			$(".video-back").show();
			$(".video-back #video-3").show();
			$("body").css("overflow", "hidden");
		});
		//video-4
		$("#fab article .c-i #tartaglia .video").click(function(){
			$(".video-back").show();
			$(".video-back #video-4").show();
			$("body").css("overflow", "hidden");
		});
		//close
		$(".video-back button").click(function(){
			$(".video-back iframe").hide();
			$(".video-back").hide();
			$("body").css("overflow", "auto");
		});
		//videos
	</script>  
	<!--js-->


</body>
</html>
